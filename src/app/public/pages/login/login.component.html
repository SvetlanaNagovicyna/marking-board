<div class="window">
  <div class="window__wrap">

    <div class="title">
      <span>entrance in  <br> marking board</span>
      <span class="title-red">.</span>
    </div>

    <form class="form" [formGroup]="form" (ngSubmit)="submit()">

      <div
        class="form__control"
        [ngClass]="{invalid: form.controls.email.touched && form.controls.email.errors}"
      >
        <input type="email" placeholder="Email" formControlName="email">
        <div
          *ngIf="form.controls.email.touched && form.controls.email.invalid"
          class="validation">
          <small *ngIf="form.controls.email.hasError('required')">
            Field email is required
          </small>
          <small *ngIf="form.controls.email.hasError('email')">
            Field must be type email
          </small>
        </div>
      </div>

      <div
        class="form__control mb-24"
        [ngClass]="{invalid: form.controls.password.touched && form.controls.password.errors}"
      >
        <input type="password" placeholder="Password" formControlName="password">
        <div
          *ngIf="form.controls.password.touched && form.controls.password.invalid"
          class="validation">
          <small *ngIf="form.controls.password.hasError('required')">
            Field password is required
          </small>
          <small *ngIf="form.controls.password.hasError('pattern')">
             Password must contain at least one uppercase letter, one lowercase letter, and one digit
          </small>
        </div>
      </div>

      <label class="form__control mb-32 form__control-checkbox">
        <input type="checkbox" formControlName="rememberMe">
        <span class="checkmark"></span>
        Remember me
      </label>

      <app-button
        label="Log In"
        type="submit"
        [disabled]="form.invalid || showLoader"
      ></app-button>

    </form>

    <div class="alert-error" *ngIf="auth.error$ | async as error">
      {{error}}
    </div>

    <div class="alert-error"
         [ngClass]="{green: greenText}"
         *ngIf="message">
      {{ message }}
    </div>

  </div>
</div>

<app-loader [showLoader]="showLoader"></app-loader>
